---
title: "Flutterã§ç«¯æœ«ã®æ–‡å­—ã‚µã‚¤ã‚ºè¨­å®šã‚’ç„¡è¦–ã™ã‚‹æ–¹æ³•"
emoji: "ðŸŽ¼"
type: "tech"
topics: ["flutter"]
published: true
---

iPhoneã‚„Androidã®ç«¯æœ«ã®è¨­å®šã«ã¯ã€æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¥½ã¿ã®å¤§ãã•ã«å¤‰æ›´ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚æ¨™æº–ã‚¢ãƒ—ãƒªãªã©ã€ç«¯æœ«è¨­å®šã«ã—ã£ã‹ã‚Šæº–æ‹ ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã¯ã€è¨­å®šã«ã‚ˆã£ã¦è¦‹ãŸç›®ãŒå¤§ããå¤‰ã‚ã‚Šã¾ã™ã€‚

Flutterã®é–‹ç™ºã‚’å§‹ã‚ã¦é©šã„ãŸã®ã¯ `Text(str, style: TextStyle(fontSize: 24))` ã¨ã„ã£ãŸå½¢ã§ã„ã‚ã‚†ã‚‹ã€Œæ–‡å­—ã‚µã‚¤ã‚ºã€ã‚’æŒ‡å®šã—ãŸã¤ã‚‚ã‚Šã«ãªã£ã¦ã„ã¦ã‚‚ã€ç«¯æœ«ã®è¨­å®šã«ã‚ˆã£ã¦æ–‡å­—ã®å¤§ãã•ãŒå¤‰åŒ–ã™ã‚‹ã“ã¨ã§ã—ãŸã€‚ã“ã‚Œã¾ã§ãšã£ã¨é–‹ç™ºã‚’ã—ã¦ããŸiOSã ã¨ã€`UIFontTextStyleHeadline` ã®ã‚ˆã†ãªæŠ½è±¡çš„ãªã‚¹ã‚¿ã‚¤ãƒ«ã§æŒ‡å®šã—ãŸæ™‚ã«ç«¯æœ«è¨­å®šã«å¾“ã†ãŸã‚ã€Flutterã‚‚åŒæ§˜ã®ä»•æ§˜ã ã¨å‹æ‰‹ã«å‹˜é•ã„ã‚’ã—ã¦ã„ã¾ã—ãŸã€‚

ç«¯æœ«ã®è¨­å®šã§ã¯ã€ã‹ãªã‚Šè¡æ’ƒçš„ãªãƒã‚«ã§ã‹ã„ã‚µã‚¤ã‚ºã‚‚è¨­å®šã§ãã‚‹ã®ã§ã€ã‚¢ãƒ—ãƒªã®UIã«ã‚ˆã£ã¦ã¯ã“ã®è¾ºã®å‹•ä½œã‚’ã—ã£ã‹ã‚Šèª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨æ„Ÿã˜ã¦èª¿ã¹ã¾ã—ãŸã€‚

# é–‹ç™ºç’°å¢ƒã§ã®æ–‡å­—ã‚µã‚¤ã‚ºè¨­å®š

ã¾ãšã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚„ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚

iOSã¯ã€è¨­å®šã‚¢ãƒ—ãƒªã‹ã‚‰è¨­å®šã—ã¾ã™ã€‚ã€Œã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ â†’ ç”»é¢è¡¨ç¤ºã¨ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚º â†’ ã•ã‚‰ã«å¤§ããªæ–‡å­—ã€ã¨é€²ã‚“ã§å¤‰æ›´ã—ã¾ã™ã€‚ç›¸å½“å¤§ããªã‚µã‚¤ã‚ºã‚‚é¸ã¹ã¾ã™ã€‚

|iOSæ¨™æº–|iOSæœ€å¤§ï¼ˆæ¨™æº–ã®3.1å€ï¼‰|
|:--:|:--:|
| ![](/images/1b741f765b4f24/ios-settings-1.png =300x) | ![](/images/1b741f765b4f24/ios-settings-2.png =300x) |

Androidã¯ã€ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã«ã‚ˆã£ã¦é•ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€åŒã˜ãè¨­å®šã®ã€Œãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ â†’ ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã€ã‹ã‚‰å¤‰æ›´ã§ãã¾ã™ã€‚ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã¯Pixel_5_API_31ã§ã™ã€‚

|Androidæ¨™æº–|Androidæœ€å¤§ï¼ˆæ¨™æº–ã®1.3å€ï¼‰|
|:--:|:--:|
| ![](/images/1b741f765b4f24/android-settings-1.png =300x) | ![](/images/1b741f765b4f24/android-settings-2.png =300x) |


# æ–‡å­—ã‚µã‚¤ã‚ºã®æ‹¡ç¸®ç¯„å›²

iOSã€Androidã¨ã‚‚ã«æ¨™æº–è¨­å®šã®å ´åˆã«ç­‰å€ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

iOSã¯ç´„0.8ã€œ3.1å€ã®ç¯„å›²ã§æ‹¡å¤§ç¸®å°ã—ã¾ã™ã€‚
Androidã¯0.85ã€œ1.3ã®ç¯„å›²ã§ã™ã€‚

# å€‹åˆ¥ã®Textã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ç«¯æœ«è¨­å®šã‚’ç„¡è¦–ã™ã‚‹

ã•ã¦æœ¬é¡Œã§ã™ã€‚ã¾ãšã¯ç‰¹å®šã®Textã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã¿ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å›ºå®šã—ã¦è¡¨ç¤ºã—ã¦ã¿ã¾ã™ã€‚`textScaleFactor` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã„ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã¨ã€`style` ã§æŒ‡å®šã—ãŸã‚µã‚¤ã‚ºã«å›ºå®šã•ã‚Œã¾ã™ã€‚ç«¯æœ«è¨­å®šã®ç­‰å€è¡¨ç¤ºã¨ç­‰ä¾¡ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚

```dart
Text(str,
   style: TextStyle(fontSize: 24),
   textScaleFactor: 1.0,
);
```

# ç‰¹å®šã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆé…ä¸‹ã®Textã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ç«¯æœ«è¨­å®šã‚’ç„¡è¦–ã™ã‚‹

`MediaQuery` ã‚’ä½¿ã†ã¨ã€ç‰¹å®šã®å­è¦ç´ ã™ã¹ã¦ã«ãŠã„ã¦ `textScaleFactor` ã‚’å¼·åˆ¶çš„ã«æŒ‡å®šã§ãã¾ã™ã€‚ãŸã¨ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’childé…ä¸‹ã«å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ãã®ä¸­ã«ã‚ã‚‹Textã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯ã™ã¹ã¦ `textScaleFactor` ãŒã“ã“ã§æŒ‡å®šã—ãŸå€¤ã«ãªã‚Šã¾ã™ã€‚

```dart
MediaQuery(
  data: MediaQuery.of(context).copyWith(textScaleFactor: 1.0);
  child: ã“ã“,
);
```

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§ç«¯æœ«è¨­å®šã‚’ç„¡è¦–ã™ã‚‹

æ–‡å­—ã‚µã‚¤ã‚ºã¯ã‚‚ã†æ±ºã‚ã‚‰ã‚ŒãŸã‚‚ã®ã ã‘ä½¿ã„ãŸã„ã€ã¨ã„ã†å ´åˆã‚‚å¤šã„ã§ã—ã‚‡ã†ã€‚å…¨ä½“ã«é©ç”¨ã™ã‚‹å ´åˆã¯ `MaterialApp` ã® `builder` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

```dart
void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      builder: (context, child) {
        return MediaQuery(
          data: MediaQuery.of(context).copyWith(textScaleFactor: 1.0);
          child: child!,
        );
      },
      title: 'Flutter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: const HomePage(),
    );
  }
}
```

# ç‰¹å®šã®ç¯„å›²å†…ãªã‚‰æ–‡å­—ã‚µã‚¤ã‚ºã®å¤‰æ›´ã‚‚è¨±å¯ã—ãŸã„

ã“ã‚Œã¾ã§ã®æ–¹æ³•ã ã¨ã€å®Œå…¨ã«æŒ‡å®šã—ãŸã‚µã‚¤ã‚ºã§ã—ã‹è¡¨ç¤ºã•ã‚Œãªã„ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç›®ç·šã§è€ƒãˆã‚‹ã¨ã‚ã¾ã‚Šå¥½ã¾ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ã§ãã‚Œã°ã‚ã‚‹ç¨‹åº¦å¤§ãã„æ–‡å­—ã‚„å°ã•ã„æ–‡å­—ã§ã‚‚è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«å¯¾å¿œã—ãŸã„ã‚‚ã®ã§ã™ã€‚

ã‚ã¾ã‚Šã«ã‚‚å¤§ãã„ã‚µã‚¤ã‚ºã¯è«¦ã‚ã‚‹ã¨ã—ã¦ã‚‚ã€ã‚ã‚‹ç¨‹åº¦ã®ç¯„å›²å†…ã§ã‚µã‚¤ã‚ºèª¿æ•´ã‚‚å¯èƒ½ã«ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ—¢å­˜ã® `MediaQuery` ã‹ã‚‰ `textScaleFactor` ã‚’å–å¾—ã—ã€æ¡ä»¶åˆ¤å®šã«åŠ ãˆã¾ã™ã€‚

1.2ã‚„1.3ãã‚‰ã„ã¾ã§å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¨ã‹ãªã‚Šè‰¯ã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

```dart
return MaterialApp(
  builder: (context, child) {
    final MediaQueryData data = MediaQuery.of(context);
    return MediaQuery(
      data: data.copyWith(
          textScaleFactor:
              data.textScaleFactor > 1.2 ? 1.2 : data.textScaleFactor),
      child: child!,
    );
  },
...
```

